"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4217],{1121:(P,h,l)=>{l.d(h,{p:()=>M});class M{constructor(O=0,u="",c="",f="",n="",d="",i="",s=0,m=0,D=0,C=0,o="",p="",g="",_="",t="",a=!1){this.star=!1,this.orderId=O,this.time=u,this.date=c,this.orderNumber=f,this.name=n,this.phone=d,this.item=i,this.quantity=s,this.totalPrice=m,this.deposit=D,this.balance=C,this.invoice=o,this.orderDepart=p,this.pickupDepart=g,this.note=_,this.status=t,this.star=a}}},4217:(P,h,l)=>{l.d(h,{J:()=>C});var M=l(1121),e=l(4438),O=l(4517),u=l(4488),c=l(8674),f=l(177),n=l(4341);function d(o,p){if(1&o&&(e.qex(0),e.j41(1,"option"),e.EFF(2),e.k0s(),e.bVm()),2&o){const g=p.$implicit;e.R7$(2),e.JRh(g)}}function i(o,p){if(1&o&&(e.qex(0),e.j41(1,"option"),e.EFF(2),e.k0s(),e.bVm()),2&o){const g=p.$implicit;e.R7$(2),e.JRh(g)}}function s(o,p){if(1&o&&(e.qex(0),e.j41(1,"option"),e.EFF(2),e.k0s(),e.bVm()),2&o){const g=p.$implicit;e.R7$(2),e.JRh(g)}}function m(o,p){if(1&o&&(e.qex(0),e.j41(1,"option"),e.EFF(2),e.k0s(),e.bVm()),2&o){const g=p.$implicit;e.R7$(2),e.JRh(g)}}function D(o,p){if(1&o&&(e.qex(0),e.j41(1,"option"),e.EFF(2),e.k0s(),e.bVm()),2&o){const g=p.$implicit;e.R7$(2),e.JRh(g)}}let C=(()=>{var o;class p{constructor(_,t,a){this.navparams=_,this.orderService=t,this.modalController=a,this.order=new M.p,this.timeList=["10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],this.departList=["Depart 1","Depart 2","Depart 3","Depart 4"],this.itemNameList=["Item 1","Item 2","Item 3","Item 4"],this.quantityList=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){let _=new Date;this.order.date=_.getFullYear()+"-"+("0"+(_.getMonth()+1)).substring(-2)+"-"+("0"+_.getDate()).substring(-2),this.order.time=this.timeList[0],this.order.orderDepart=this.departList[0],this.order.pickupDepart=this.departList[0],this.order.item=this.itemNameList[0],this.order.quantity=1}addOrder(){this.orderService.addOrder(this.order)&&this.modalController.dismiss()}calculateBalance(){this.order.deposit>this.order.totalPrice&&(this.order.deposit=this.order.totalPrice),this.order.balance=this.order.totalPrice-this.order.deposit}}return(o=p).\u0275fac=function(_){return new(_||o)(e.rXU(O.y8),e.rXU(c.Q),e.rXU(u.W3))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-order-add"]],decls:78,vars:21,consts:[[3,"translucent"],[3,"fullscreen"],[1,"container"],[1,"edit-row"],[1,"edit-area","w-100"],[3,"ngModelChange","ngModel"],[1,"edit-area","w-50"],["type","date",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["type","number",3,"ngModelChange","change","ngModel"],["type","number","disabled","",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[2,"width","90%","margin","auto"],["id","finish-button",3,"click"]],template:function(_,t){1&_&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"\u65b0\u589e\u53d6\u8ca8\u55ae"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"p"),e.EFF(9,"\u624b\u5beb\u55ae\u865f"),e.k0s(),e.j41(10,"input",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.orderNumber,r)||(t.order.orderNumber=r),r}),e.k0s()()(),e.j41(11,"div",3)(12,"div",6)(13,"p"),e.EFF(14,"\u53d6\u4ef6\u65e5"),e.k0s(),e.j41(15,"input",7),e.mxI("ngModelChange",function(r){return e.DH7(t.order.date,r)||(t.order.date=r),r}),e.k0s()(),e.j41(16,"div",6)(17,"p"),e.EFF(18,"\u6642\u9593"),e.k0s(),e.j41(19,"select",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.time,r)||(t.order.time=r),r}),e.DNE(20,d,3,1,"ng-container",8),e.k0s()()(),e.j41(21,"div",3)(22,"div",6)(23,"p"),e.EFF(24,"\u4ea4\u8ca8\u5206\u5e97"),e.k0s(),e.j41(25,"select",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.pickupDepart,r)||(t.order.pickupDepart=r),r}),e.DNE(26,i,3,1,"ng-container",8),e.k0s()(),e.j41(27,"div",6)(28,"p"),e.EFF(29,"\u8a02\u8ca8\u5206\u5e97"),e.k0s(),e.j41(30,"select",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.orderDepart,r)||(t.order.orderDepart=r),r}),e.DNE(31,s,3,1,"ng-container",8),e.k0s()()(),e.j41(32,"div",3)(33,"div",6)(34,"p"),e.EFF(35,"\u59d3\u540d"),e.k0s(),e.j41(36,"input",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.name,r)||(t.order.name=r),r}),e.k0s()(),e.j41(37,"div",6)(38,"p"),e.EFF(39,"\u9023\u7d61\u96fb\u8a71"),e.k0s(),e.j41(40,"input",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.phone,r)||(t.order.phone=r),r}),e.k0s()()(),e.j41(41,"div",3)(42,"div",6)(43,"p"),e.EFF(44,"\u7522\u54c1\u540d\u7a31"),e.k0s(),e.j41(45,"select",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.item,r)||(t.order.item=r),r}),e.DNE(46,m,3,1,"ng-container",8),e.k0s()(),e.j41(47,"div",6)(48,"p"),e.EFF(49,"\u6578\u91cf"),e.k0s(),e.j41(50,"select",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.quantity,r)||(t.order.quantity=r),r}),e.DNE(51,D,3,1,"ng-container",8),e.k0s()()(),e.j41(52,"div",3)(53,"div",6)(54,"p"),e.EFF(55,"\u7e3d\u50f9"),e.k0s(),e.j41(56,"input",9),e.mxI("ngModelChange",function(r){return e.DH7(t.order.totalPrice,r)||(t.order.totalPrice=r),r}),e.bIt("change",function(){return t.calculateBalance()}),e.k0s()(),e.j41(57,"div",6)(58,"p"),e.EFF(59,"\u8a02\u91d1"),e.k0s(),e.j41(60,"input",9),e.mxI("ngModelChange",function(r){return e.DH7(t.order.deposit,r)||(t.order.deposit=r),r}),e.bIt("change",function(){return t.calculateBalance()}),e.k0s()()(),e.j41(61,"div",3)(62,"div",6)(63,"p"),e.EFF(64,"\u9918\u984d"),e.k0s(),e.j41(65,"input",10),e.mxI("ngModelChange",function(r){return e.DH7(t.order.balance,r)||(t.order.balance=r),r}),e.k0s()(),e.j41(66,"div",6)(67,"p"),e.EFF(68,"\u767c\u7968\u865f\u78bc"),e.k0s(),e.j41(69,"input",5),e.mxI("ngModelChange",function(r){return e.DH7(t.order.invoice,r)||(t.order.invoice=r),r}),e.k0s()()(),e.j41(70,"div",3)(71,"div",4)(72,"p"),e.EFF(73,"\u5099\u8a3b"),e.k0s(),e.j41(74,"textarea",11),e.mxI("ngModelChange",function(r){return e.DH7(t.order.note,r)||(t.order.note=r),r}),e.k0s()()()(),e.j41(75,"div",12)(76,"button",13),e.bIt("click",function(){return t.addOrder()}),e.EFF(77,"\u65b0\u589e"),e.k0s()()()),2&_&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(6),e.R50("ngModel",t.order.orderNumber),e.R7$(5),e.R50("ngModel",t.order.date),e.R7$(4),e.R50("ngModel",t.order.time),e.R7$(),e.Y8G("ngForOf",t.timeList),e.R7$(5),e.R50("ngModel",t.order.pickupDepart),e.R7$(),e.Y8G("ngForOf",t.departList),e.R7$(4),e.R50("ngModel",t.order.orderDepart),e.R7$(),e.Y8G("ngForOf",t.departList),e.R7$(5),e.R50("ngModel",t.order.name),e.R7$(4),e.R50("ngModel",t.order.phone),e.R7$(5),e.R50("ngModel",t.order.item),e.R7$(),e.Y8G("ngForOf",t.itemNameList),e.R7$(4),e.R50("ngModel",t.order.quantity),e.R7$(),e.Y8G("ngForOf",t.quantityList),e.R7$(5),e.R50("ngModel",t.order.totalPrice),e.R7$(4),e.R50("ngModel",t.order.deposit),e.R7$(5),e.R50("ngModel",t.order.balance),e.R7$(4),e.R50("ngModel",t.order.invoice),e.R7$(5),e.R50("ngModel",t.order.note))},dependencies:[f.Sq,n.xH,n.y7,n.me,n.Q0,n.wz,n.BC,n.vS,u.W9,u.eU,u.BC,u.ai],styles:["ion-title[_ngcontent-%COMP%]{--color: rgb(190, 170, 60)}ion-content[_ngcontent-%COMP%]{--background: rgb(224, 224, 224);--padding-top: 2em;--padding-bottom: 2em}.container[_ngcontent-%COMP%]{width:90%;box-shadow:1px 2px 5px #a0a0a0;background-color:#fff;margin:auto;padding:1.5em 0}.edit-row[_ngcontent-%COMP%]{width:100%;display:flex}.edit-area[_ngcontent-%COMP%]{display:flex;padding:.2em 1em}.edit-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100px;font-size:.8em;color:#a0a0a0}.edit-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-area[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .edit-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:calc(100% - 100px);border:1px solid rgb(80,80,80)}.edit-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.w-100[_ngcontent-%COMP%]{width:100%}.w-50[_ngcontent-%COMP%]{width:50%}#finish-button[_ngcontent-%COMP%]{width:100%;font-size:2em;padding:.2em 2em;background-color:#beaa3c;color:#fff;margin-top:1em;border-radius:.3em;box-shadow:1px 2px 5px #a0a0a0}@media screen and (max-width: 768px){.w-50[_ngcontent-%COMP%]{width:100%}.edit-row[_ngcontent-%COMP%]{width:100%;display:inline-block}}"]}),p})()},8674:(P,h,l)=>{l.d(h,{Q:()=>O});var M=l(1121),e=l(4438);let O=(()=>{var u;class c{constructor(){this.orderList=[{orderId:1,time:"10:00",date:"2024-05-01",orderNumber:"0001",name:"RA Paul",phone:"0912345678",item:"Item 1",quantity:1,totalPrice:100,deposit:100,balance:0,invoice:"INV-0001",orderDepart:"Depart 2",pickupDepart:"Depart 2",note:"Note 1",status:"Pending",star:!0},{orderId:2,time:"11:00",date:"2024-05-01",orderNumber:"0002",name:"Jane Doe",phone:"0987645321",item:"Item 2",quantity:2,totalPrice:200,deposit:100,balance:100,invoice:"INV-0002",orderDepart:"Depart 1",pickupDepart:"Depart 2",note:"Note 2",status:"Completed",star:!1},{orderId:3,time:"09:30",date:"2024-05-01",orderNumber:"0003",name:"John Smith",phone:"0912312312",item:"Item 3",quantity:1,totalPrice:150,deposit:0,balance:150,invoice:"INV-0003",orderDepart:"Depart 3",pickupDepart:"Depart 2",note:"Note 3",status:"Pending",star:!0},{orderId:4,time:"12:00",date:"2024-05-01",orderNumber:"0004",name:"Emily Johnson",phone:"0912345123",item:"Item 4",quantity:3,totalPrice:300,deposit:150,balance:150,invoice:"INV-0004",orderDepart:"Depart 2",pickupDepart:"Depart 2",note:"Note 4",status:"Pending",star:!1},{orderId:5,time:"14:30",date:"2024-05-01",orderNumber:"0005",name:"Michael Brown",phone:"0912378956",item:"Item 3",quantity:2,totalPrice:250,deposit:100,balance:150,invoice:"INV-0005",orderDepart:"Depart 1",pickupDepart:"Depart 2",note:"Note 5",status:"Completed",star:!0}]}getOrders(n="",d=!0){let i=this.orderList;return i=this.searchOrders(i,n,d),i=i.sort((s,m)=>s.date<m.date?-1:s.date<m.date?1:s.time<m.time?-1:s.time<m.time?1:0),i=i.sort((s,m)=>s.star&&!m.star?-1:!s.star&&m.star?1:0),i}searchOrders(n,d,i){return d&&(n=n.filter(s=>!!(s.name.toLowerCase().includes(d.toLowerCase())||s.phone.toLowerCase().includes(d.toLowerCase())||s.orderNumber.toLowerCase().includes(d.toLowerCase())))),i||(n=n.filter(s=>"Pending"===s.status)),n}getOrderById(n){let d=new M.p;return d=this.orderList.find(i=>i.orderId===n),d}addOrder(n){if(""==n.orderNumber)return alert("\u8acb\u512a\u5148\u8f38\u5165\u624b\u5beb\u55ae\u865f!"),!1;let d=0;return this.orderList.forEach(i=>{i.orderId>d&&(d=i.orderId)}),n.orderId=d+1,this.orderList.push(n),!0}saveOrder(n){let d=-1;d=this.getOrderIndexById(n.orderId),-1!=d&&(this.orderList[d]=n)}getOrderIndexById(n){let d=-1;for(let i=0;i<this.orderList.length;i++)if(this.orderList[i].orderId===n){d=i;break}return d}}return(u=c).\u0275fac=function(n){return new(n||u)},u.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),c})()}}]);