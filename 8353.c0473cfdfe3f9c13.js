"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8353],{1121:(b,f,s)=>{s.d(f,{p:()=>g});class g{constructor(l=0,u="",F="",e="",o="",n="",i="",d=0,m=0,k=0,O=0,t="",p="",c="",a="",r="",h=!1){this.star=!1,this.orderId=l,this.time=u,this.date=F,this.orderNumber=e,this.name=o,this.phone=n,this.item=i,this.quantity=d,this.totalPrice=m,this.deposit=k,this.balance=O,this.invoice=t,this.orderDepart=p,this.pickupDepart=c,this.note=a,this.status=r,this.star=h}}},8353:(b,f,s)=>{s.r(f),s.d(f,{OrderShowPageModule:()=>O});var g=s(177),I=s(4341),l=s(4488),u=s(70),F=s(1121),e=s(4438),o=s(8674);function n(t,p){if(1&t){const c=e.RV6();e.qex(0),e.j41(1,"button",9),e.bIt("click",function(){e.eBV(c);const r=e.XpG();return e.Njj(r.changeStatus())}),e.EFF(2,"\u9000\u56de"),e.k0s(),e.bVm()}}function i(t,p){if(1&t){const c=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(c);const r=e.XpG();return e.Njj(r.changeStatus())}),e.EFF(1,"\u53d6\u8ca8"),e.k0s()}}const m=[{path:"",component:(()=>{var t;class p{constructor(a,r,h){this.route=a,this.orderService=r,this.router=h,this.orderId=-1,this.order=new F.p,this.timeList=["10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00"],this.departList=["Depart 1","Depart 2","Depart 3","Depart 4"],this.itemNameList=["Order 1","Order 2","Order 3","Order 4"],this.quantityList=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){this.route.paramMap.subscribe(r=>{let h=r.get("orderId");null!=h?this.orderId=parseInt(h):this.goBack()});let a=this.orderService.getOrderById(this.orderId);null!=a?this.order=a:this.goBack()}changeStatus(){let a=this.order;a.status="Pending"===a.status?"Completed":"Pending",this.orderService.saveOrder(a),this.goBack()}goBack(){this.router.navigate(["home"])}}return(t=p).\u0275fac=function(a){return new(a||t)(e.rXU(u.nX),e.rXU(o.Q),e.rXU(u.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-order-show"]],decls:72,vars:27,consts:[["pickUp",""],[3,"translucent"],["slot","end"],[3,"click"],[3,"fullscreen"],[1,"container"],[1,"edit-area"],[2,"width","90%","margin","auto"],[4,"ngIf","ngIfElse"],["id","back-btn",3,"click"],["id","pick-up-btn",3,"click"]],template:function(a,r){if(1&a){const h=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"\u53d6\u8ca8\u55ae"),e.k0s(),e.j41(4,"ion-buttons",2)(5,"ion-button",3),e.bIt("click",function(){return e.eBV(h),e.Njj(r.goBack())}),e.EFF(6,"\u53d6\u6d88"),e.k0s()()()(),e.j41(7,"ion-content",4)(8,"div",5)(9,"div",6)(10,"p"),e.EFF(11,"\u624b\u5beb\u55ae\u865f"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"div",6)(14,"p"),e.EFF(15,"\u53d6\u4ef6\u65e5"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"div",6)(18,"p"),e.EFF(19,"\u6642\u9593"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"div",6)(22,"p"),e.EFF(23,"\u4ea4\u8ca8\u5206\u5e97"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div",6)(26,"p"),e.EFF(27,"\u8a02\u8ca8\u5206\u5e97"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"div",6)(30,"p"),e.EFF(31,"\u59d3\u540d"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"div",6)(34,"p"),e.EFF(35,"\u9023\u7d61\u96fb\u8a71"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"div",6)(38,"p"),e.EFF(39,"\u7522\u54c1\u540d\u7a31"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"div",6)(42,"p"),e.EFF(43,"\u6578\u91cf"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"div",6)(46,"p"),e.EFF(47,"\u7e3d\u50f9"),e.k0s(),e.EFF(48),e.nI1(49,"number"),e.k0s(),e.j41(50,"div",6)(51,"p"),e.EFF(52,"\u8a02\u91d1"),e.k0s(),e.EFF(53),e.nI1(54,"number"),e.k0s(),e.j41(55,"div",6)(56,"p"),e.EFF(57,"\u9918\u984d"),e.k0s(),e.EFF(58),e.nI1(59,"number"),e.k0s(),e.j41(60,"div",6)(61,"p"),e.EFF(62,"\u767c\u7968\u865f\u78bc"),e.k0s(),e.EFF(63),e.k0s(),e.j41(64,"div",6)(65,"p"),e.EFF(66,"\u5099\u8a3b"),e.k0s(),e.EFF(67),e.k0s()(),e.j41(68,"div",7),e.DNE(69,n,3,0,"ng-container",8)(70,i,2,0,"ng-template",null,0,e.C5r),e.k0s()()}if(2&a){const h=e.sdS(71);e.Y8G("translucent",!0),e.R7$(7),e.Y8G("fullscreen",!0),e.R7$(5),e.SpI(" ",r.order.orderNumber," "),e.R7$(4),e.SpI(" ",r.order.date," "),e.R7$(4),e.SpI(" ",r.order.time," "),e.R7$(4),e.SpI(" ",r.order.pickupDepart," "),e.R7$(4),e.SpI(" ",r.order.orderDepart," "),e.R7$(4),e.SpI(" ",r.order.name," "),e.R7$(4),e.SpI(" ",r.order.phone," "),e.R7$(4),e.SpI(" ",r.order.item," "),e.R7$(4),e.SpI(" ",r.order.quantity," "),e.R7$(4),e.SpI(" ",e.i5U(49,18,r.order.totalPrice,"1.0-0")," "),e.R7$(5),e.SpI(" ",e.i5U(54,21,r.order.deposit,"1.0-0")," "),e.R7$(5),e.SpI(" ",e.i5U(59,24,r.order.balance,"1.0-0")," "),e.R7$(5),e.SpI(" ",r.order.invoice," "),e.R7$(4),e.SpI(" ",r.order.note," "),e.R7$(2),e.Y8G("ngIf","Completed"===r.order.status)("ngIfElse",h)}},dependencies:[g.bT,l.Jm,l.QW,l.W9,l.eU,l.BC,l.ai,g.QX],styles:["ion-title[_ngcontent-%COMP%]{--color: rgb(190, 170, 60)}ion-content[_ngcontent-%COMP%]{--background: rgb(224, 224, 224);--padding-top: 2em;--padding-bottom: 2em}.container[_ngcontent-%COMP%]{width:90%;box-shadow:1px 2px 5px #a0a0a0;background-color:#fff;margin:auto;padding:1.5em 0}.edit-area[_ngcontent-%COMP%]{display:flex;padding:.2em 1em;width:100%;align-items:center;font-size:1.5em}.edit-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;width:100px;font-size:.8em;color:#a0a0a0;margin:.2em 0}#finish-button[_ngcontent-%COMP%]{width:100%;font-size:2em;padding:.2em 2em;background-color:#beaa3c;color:#fff;margin-top:1em;border-radius:.3em;box-shadow:1px 2px 5px #a0a0a0}#pick-up-btn[_ngcontent-%COMP%], #back-btn[_ngcontent-%COMP%]{width:100%;font-size:2em;padding:.2em 2em;margin-top:1em;border-radius:.3em;box-shadow:1px 2px 5px #a0a0a0}#pick-up-btn[_ngcontent-%COMP%]{background-color:green;color:#fff}#back-btn[_ngcontent-%COMP%]{background-color:red;color:#fff}ion-button[_ngcontent-%COMP%]{--color: rgb(190, 170, 60);font-weight:bolder}"]}),p})()}];let k=(()=>{var t;class p{}return(t=p).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(m),u.iI]}),p})(),O=(()=>{var t;class p{}return(t=p).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,I.YN,l.bv,k]}),p})()},8674:(b,f,s)=>{s.d(f,{Q:()=>l});var g=s(1121),I=s(4438);let l=(()=>{var u;class F{constructor(){this.orderList=[{orderId:1,time:"10:00",date:"2024-05-01",orderNumber:"0001",name:"RA Paul",phone:"0912345678",item:"Item 1",quantity:1,totalPrice:100,deposit:100,balance:0,invoice:"INV-0001",orderDepart:"Depart 2",pickupDepart:"Depart 2",note:"Note 1",status:"Pending",star:!0},{orderId:2,time:"11:00",date:"2024-05-01",orderNumber:"0002",name:"Jane Doe",phone:"0987645321",item:"Item 2",quantity:2,totalPrice:200,deposit:100,balance:100,invoice:"INV-0002",orderDepart:"Depart 1",pickupDepart:"Depart 2",note:"Note 2",status:"Completed",star:!1},{orderId:3,time:"09:30",date:"2024-05-01",orderNumber:"0003",name:"John Smith",phone:"0912312312",item:"Item 3",quantity:1,totalPrice:150,deposit:0,balance:150,invoice:"INV-0003",orderDepart:"Depart 3",pickupDepart:"Depart 2",note:"Note 3",status:"Pending",star:!0},{orderId:4,time:"12:00",date:"2024-05-01",orderNumber:"0004",name:"Emily Johnson",phone:"0912345123",item:"Item 4",quantity:3,totalPrice:300,deposit:150,balance:150,invoice:"INV-0004",orderDepart:"Depart 2",pickupDepart:"Depart 2",note:"Note 4",status:"Pending",star:!1},{orderId:5,time:"14:30",date:"2024-05-01",orderNumber:"0005",name:"Michael Brown",phone:"0912378956",item:"Item 3",quantity:2,totalPrice:250,deposit:100,balance:150,invoice:"INV-0005",orderDepart:"Depart 1",pickupDepart:"Depart 2",note:"Note 5",status:"Completed",star:!0}]}getOrders(o="",n=!0){let i=this.orderList;return i=this.searchOrders(i,o,n),i=i.sort((d,m)=>d.date<m.date?-1:d.date<m.date?1:d.time<m.time?-1:d.time<m.time?1:0),i=i.sort((d,m)=>d.star&&!m.star?-1:!d.star&&m.star?1:0),i}searchOrders(o,n,i){return n&&(o=o.filter(d=>!!(d.name.toLowerCase().includes(n.toLowerCase())||d.phone.toLowerCase().includes(n.toLowerCase())||d.orderNumber.toLowerCase().includes(n.toLowerCase())))),i||(o=o.filter(d=>"Pending"===d.status)),o}getOrderById(o){let n=new g.p;return n=this.orderList.find(i=>i.orderId===o),n}addOrder(o){if(""==o.orderNumber)return alert("\u8acb\u512a\u5148\u8f38\u5165\u624b\u5beb\u55ae\u865f!"),!1;let n=0;return this.orderList.forEach(i=>{i.orderId>n&&(n=i.orderId)}),o.orderId=n+1,this.orderList.push(o),!0}saveOrder(o){let n=-1;n=this.getOrderIndexById(o.orderId),-1!=n&&(this.orderList[n]=o)}getOrderIndexById(o){let n=-1;for(let i=0;i<this.orderList.length;i++)if(this.orderList[i].orderId===o){n=i;break}return n}}return(u=F).\u0275fac=function(o){return new(o||u)},u.\u0275prov=I.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),F})()}}]);